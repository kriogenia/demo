{
  "query": {
    "function_score": {
      "query": {
        "boosting": {
          "positive": {
            "bool": {
              "must": {
                "match": {
                  "original_title": "avengers"
                }
              }
            }
          },
          "negative": {
            "term": {
              "type": "tvEpisode"
            }
          },
          "negative_boost": 0.1
        }
      },
      "functions": [
        {
          "gauss": {
            "start_year": {
              "origin": "now",
              "offset": "1825d",
              "scale": "5475d",
              "decay": 0.8
            }
          }
        }
      ],
      "boost_mode": "sum"
    }
  },
  "aggs": {
    "genres": {
      "terms": {
        "field": "genres"
      }
    },
    "type": {
      "terms": {
        "field": "type"
      }
    },
    "year": {
      "date_range": {
        "field": "start_year",
        "ranges": [
          {
            "from": "2010",
            "to": "2020"
          }
        ]
      }
    }
  }
}